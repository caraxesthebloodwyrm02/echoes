[pytest]
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
minversion = 7.0
pythonpath = .
testpaths = tests
# Sanitize defaults: skip networked/integration/e2e tests unless explicitly enabled
addopts = -ra --strict-markers --tb=short --maxfail=10 -m "not network and not integration and not e2e" --disable-socket --cov=./ --cov-report=term-missing --cov-report=xml:coverage.xml --cov-fail-under=85
norecursedirs = .git .tox dist build *.egg __pycache__ .venv venv
markers =
    asyncio: marks tests as async (use with pytest.mark.asyncio)
    integration: marks tests that hit external integrated services (skipped by default)
    network: marks tests requiring outbound network access (skipped by default)
    e2e: marks end-to-end tests (skipped by default)
    slow: marks slow tests (skipped by default)

[coverage:run]
branch = True
source = .
omit =
    */tests/*
    */__pycache__/*
    */venv/*
    */.git/*
    */misc/*
    */examples/*
    */demos/*
